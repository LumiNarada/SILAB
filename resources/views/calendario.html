<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Calendario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/calendario.css">
</head>
<body>
    <nav class="navbar navbar-dark navbar-expand-lg fixed-top portfolio-navbar">
        <div class="container"><a class="navbar-brand logo" href="#"><img src="../images/logo-unam-png-blanco-ok.png" alt="logo unam" height="50px"><img src="../images/UNAM_INGENIERIA-logo-38271A0B79-seeklogo.com.png" alt="logo ingenieria" height="50px"></a><button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div id="navbarNav" class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="./muro.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="./perfil.html">Perfil</a></li>
                    <li class="nav-item"><a class="nav-link" href="./administrador.html">Administrador</a></li>
                    <li class="nav-item"><a class="nav-link" href="./calendario.html">Calendario</a></li>
                    <li class="nav-item"><a class="nav-link" href="./inscrpcion.html">Inscripción</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <br></br>
    <br></br>

    <div class="container">
        <table id="calendar" class="container">
        <thead>
        <caption> </caption>
        <tr>
           <th>
                     Lun
           </th>
           <th>
                     Mar
           </th>
           <th>
                     Mie
           </th>
           <th>
                     Jue
           </th>
           <th>
                     Vie
           </th>
           <th>
                     Sab
           </th>
           <th>
                     Dom
           </th>
       </tr>
      </thead>
        <tbody> </tbody>
      </table>
    </div>
    
    
      <script>
        var actual=new Date();
        function mostrarCalendario(year,month)
        {
            var now=new Date(year,month-1,1);
            var last=new Date(year,month,0);
            var primerDiaSemana=(now.getDay()==0)?7:now.getDay();
            var ultimoDiaMes=last.getDate();
            var dia=0;
            var resultado="<tr bgcolor='silver'>";
            var diaActual=0;
            console.log(ultimoDiaMes);
            var last_cell=primerDiaSemana+ultimoDiaMes;
            // hacemos un bucle hasta 42 
            //de  6 columnas y de 7 días
            for(var i=1;i<=42;i++)
            {
                if(i==primerDiaSemana)
                {
                    // determinamos en que día empieza
                    dia=1;
                }
                if(i<primerDiaSemana || i>=last_cell)
                {
                    // celda vacía
                    resultado+="<td>&nbsp;</td>";
                }else{
                    // mostramos el día
                    if(dia==actual.getDate() && month==actual.getMonth()+1 &&
        year==actual.getFullYear())
                        resultado+="<td class='hoy'>"+dia+"</td>";
                    else
                        resultado+="<td>"+dia+"</td>";
                    dia++;
                }
                if(i%7==0)
                {
                    if(dia>ultimoDiaMes)
                        break;
                    resultado+="</tr><tr>\n";
                }
            }
            resultado+="</tr>";

        var meses=Array("Enero", "Febrero", "Marzo", "Abril", "Mayo",
        "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre",
        "Diciembre");

            // Calculamos el siguiente mes y año
            nextMonth=month+1;
            nextYear=year;

            if(month+1>12)
            {
                nextMonth=1;
                nextYear=year+1;
            }

            // Calculamos el anterior mes y año
            prevMonth=month-1;
            prevYear=year;

            if(month-1<1)
            {
                prevMonth=12;
                prevYear=year-1;
            }

        document.getElementById("calendar").getElementsByTagName("caption");
        [0].innerHTML="<div>"+meses
        [month-1]+" / "+year+"</div>"
        "<div>"
            "<a onclick='mostrarCalendario("+prevYear+","+prevMonth+")'>&lt;</a>"
            "<a onclick='mostrarCalendario("+nextYear+","+nextMonth+")'>&gt;</a>"
        "</div>";

        document.getElementById("calendar").getElementsByTagName("tbody")
        [0].innerHTML=resultado;
        }

        mostrarCalendario(actual.getFullYear(),actual.getMonth()+1);

        </script>

    <br>
    <nav class="navbar fixed-bottom">
        <div class="container-fluid">
            <h10>Todos los derechos reservados 1999-2023/ Facultad de Ingeniería / UNAM</h10>
        </div>
    </nav>
</body>
</html>